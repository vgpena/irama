{"version":3,"sources":["public/src/party.js"],"names":[],"mappings":"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","file":"public/src/party.js","sourcesContent":["\"use strict\";\n\nconst data = require('../../public/data/languages.json');\nconst palettes = require('../../public/data/palettes.json');\nconst Language = require('./generator.js');\nconst Palettes = require('./palettes.js');\nconst renderLimit = 5;\n\nconst mode = \"debug\";\nconst langMode = \"rand\";\n\nconst palettesObj = new Palettes(palettes);\nconst allPalettes = palettesObj.allPalettes;\nconst numPalettes = palettesObj.numPalettes;\n\nlet allLangs = [];\n\nlet langsAndVisuals = [];\n\n\n/*\n*\n* Create object based on language data\n* Lang will be saved into \"data\" field;\n* info related to rendering (colors, shapes, etc)\n* will be saved into \"visuals\" field.\n*\n*/\nfunction generateLang(index, language){\n  let foo = new Language(language);\n  allLangs.push(foo);\n\n  let langAndVisuals = {\n    'name': foo.name,\n    'data': foo,\n    'visuals': {}\n  };\n\n  langsAndVisuals.push(langAndVisuals);\n}\n\n/*\n*\n* Creates a palette element with a specific background color.\n*\n*/\nfunction genColorElt(rgba) {\n  let color = document.createElement(\"div\");\n  color.classList.add(\"palette-color\");\n  color.style.backgroundColor = rgba;\n\n  return color;\n}\n\n\n/*\n*\n* Creates a \"palette\" element with a language's\n* light, dark, and accent colors\n*\n*/\nfunction genPaletteElt(paletteJSON) {\n  let palette = document.createElement(\"div\");\n\n  // create light element\n  let light = document.createElement(\"div\");\n  light.classList.add(\"palette-component\");\n\n  let lightTitle = document.createElement(\"h2\");\n  lightTitle.appendChild(document.createTextNode(\"Light\"));\n\n  light.appendChild(lightTitle);\n  light.appendChild(genColorElt(paletteJSON.light));\n\n  palette.appendChild(light);\n\n  // create dark element\n  let dark = document.createElement(\"div\");\n  dark.classList.add(\"palette-component\");\n\n  let darkTitle = document.createElement(\"h2\");\n  darkTitle.appendChild(document.createTextNode(\"Dark\"));\n\n  dark.appendChild(darkTitle);\n  dark.appendChild(genColorElt(paletteJSON.dark));\n\n  palette.appendChild(dark);\n\n  // create other colors (but only if they should be there)\n  if (paletteJSON.accents.length > 0) {\n    let others = document.createElement(\"div\");\n    others.classList.add(\"palette-component\");\n    let othersTitle = document.createElement(\"h2\");\n    othersTitle.appendChild(document.createTextNode(\"Others\"));\n\n    others.appendChild(othersTitle);\n\n    for (let i = 0; i < paletteJSON.accents.length; i++) {\n      others.appendChild(genColorElt(paletteJSON.accents[i]));\n    }\n\n    palette.appendChild(others);\n  }\n\n\n  return palette;\n}\n\n/*\n*\n* Take a palette and a number of accent colors that you want to choose\n* and randomly choose that number of unique colors\n* from that palette\n*\n*/\n\nfunction chooseAccents(palette, numAccentColors) {\n  let otherColors = [];\n\n  while (otherColors.length < numAccentColors) {\n    let newColorIndex = Math.floor(Math.random() * palette.accents.length)\n    let newColor = palette.accents[newColorIndex];\n\n    if (otherColors.indexOf(newColor) === -1) {\n      otherColors.push(newColor);\n    }\n  }\n\n  return otherColors;\n}\n\n/*\n*\n* Debug output -- makes a list of languages\n* and their salient features\n* and adds it to the DOM\n*\n*/\nfunction printLangs() {\n  let langsList = document.getElementsByClassName('languages-list')[0];\n\n  for (let i = 0; i < langsAndVisuals.length; i++) {\n    let langElt = document.createElement(\"li\");\n    langElt.classList.add(\"language\");\n\n\n    let langTitle = document.createElement(\"h1\");\n    langTitle.appendChild(document.createTextNode(langsAndVisuals[i].name));\n\n    let langPalette = genPaletteElt(langsAndVisuals[i].visuals.palette);\n\n    langElt.appendChild(langTitle);\n    langElt.appendChild(langPalette);\n\n    langsList.appendChild(langElt);\n  }\n}\n\n\n/*\n*\n* Choose color palette for each lang\n* and save that info as a prop in its \"visuals\" field\n*\n*/\nfunction choosePalettes() {\n  for (let i = 0; i <= langsAndVisuals.length; i++) {\n    if (i < langsAndVisuals.length) {\n      let currLang = langsAndVisuals[i];\n\n      // create arr of eligible palettes for lang\n      // (where numColors in palette >= numColors in lang)\n\n      let eligiblePalettes = [];\n      for (let paletteSet in allPalettes) {\n        if (parseInt(paletteSet) >= currLang.data.numColors + 2) {\n          for (let j = 0; j < allPalettes[paletteSet].length; j++) {\n            eligiblePalettes.push(allPalettes[paletteSet][j]);\n          }\n        }\n      }\n\n      let randIndex = Math.floor(Math.random() * eligiblePalettes.length);\n\n      let chosenPalette = eligiblePalettes[randIndex];\n\n      currLang.visuals.palette = chosenPalette;\n      currLang.visuals.palette.accents = chooseAccents(chosenPalette, currLang.data.numColors);\n\n    } else {\n      done();\n    }\n  }\n}\n\n\n/*\n*\n* When everything that needs to be done has been done\n*\n*/\nfunction done() {\n  if (mode === \"debug\") {\n    printLangs();\n  }\n}\n\n\n/*\n*\n* Generate langs -- sets of properties based on languages' data\n*\n*\n*/\n\nlet chooseFrom = data;\nif (langMode === \"rand\") {\n  let chooseFromRand = [];\n  while (chooseFromRand.length < renderLimit) {\n    let newIndex = Math.floor(Math.random() * data.length)\n    if (chooseFromRand.indexOf(newIndex) === -1) {\n      chooseFromRand.push(newIndex);\n    }\n  }\n  chooseFrom = [];\n  for (let i = 0; i < chooseFromRand.length; i++) {\n    chooseFrom.push(data[chooseFromRand[i]]);\n  }\n}\n\nfor (let i = 0; i <= renderLimit; i++){\n  // for as many as we want, generate language from data\n  if (i < renderLimit) {\n    generateLang(i, chooseFrom[i]);\n  } else {\n    // once we've done that, start making things to actually render\n    choosePalettes();\n  }\n}\n"]}